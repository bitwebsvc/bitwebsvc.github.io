/*! For license information please see 1232f173.2a678ed4.js.LICENSE.txt */
"use strict";(self.webpackChunkreact_native_website=self.webpackChunkreact_native_website||[]).push([[8401],{48706:(e,t,n)=>{n.d(t,{ZP:()=>a});var s=n(24246),i=n(71670);function r(e){const t=Object.assign({pre:"pre",code:"code"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-markdown",children:"- \x3c!-- TODO List out notable picks for this patch --\x3e\n\n---\n\nTo test it, run:\n\n\x3c!-- TODO Update with your version --\x3e\n\nnpx react-native init RN069RC0 --version 0.69.0-rc.0\n\n---\n\n- You can participate in the conversation on the status of this release in the [working group](https://github.com/reactwg/react-native-releases/discussions).\n\n- To help you upgrade to this version, you can use the [upgrade helper](https://react-native-community.github.io/upgrade-helper/) \u269b\ufe0f\n\n- See changes from this release in the [changelog PR](https://github.com/facebook/react-native/labels/%F0%9F%93%9D%20Changelog)\n\n---\n\n### Help us testing \ud83e\uddea\n\n\x3c!-- TODO Add the call to action for something specific that we want folks to test --\x3e\n\nLet us know how it went by posting a comment in the [working group discussion](https://github.com/reactwg/react-native-releases/discussions)! Please specify with system you tried it on (ex. macos, windows).\n\n**Bonus points:** It would be even better if you could swap things around: instead of using a fresh new app, use a more complex one - or use a different library that is already leveraging the new architecture!\n"})}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)("img",{width:"400",alt:"Creating a GitHub Release",src:"https://user-images.githubusercontent.com/1309636/133348648-c33f82b8-b8d2-474a-a06e-35a1fb8d18de.png"}),(0,s.jsx)("figcaption",{children:"Creating a GitHub Release."})]})]})}const a=function(e={}){const{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(r,e)})):r(e)}},39544:(e,t,n)=>{n.d(t,{ZP:()=>a});var s=n(24246),i=n(71670);function r(e){const t=Object.assign({admonition:"admonition",p:"p"},(0,i.ah)(),e.components);return(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Since testing is a time consuming activity (>1 hrs) it is recommended that the release crew coordinates on the steps above then do testing on at least two separate systems in an async way."})})}const a=function(e={}){const{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(r,e)})):r(e)}},85879:(e,t,n)=>{n.d(t,{ZP:()=>a});var s=n(24246),i=n(71670);function r(e){const t=Object.assign({admonition:"admonition",p:"p",code:"code"},(0,i.ah)(),e.components);return(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["For versions older than 0.70, you need to run ",(0,s.jsx)(t.code,{children:"./scripts/bump-oss-version.js"})," instead."]})})}const a=function(e={}){const{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(r,e)})):r(e)}},32410:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>g,frontMatter:()=>o,metadata:()=>h,toc:()=>u});var s=n(24246),i=n(71670),r=n(39544),a=n(48706),c=n(85879);const o={id:"release-candidate-patch",title:"RC Patches"},l=void 0,h={id:"release-candidate-patch",title:"RC Patches",description:"Documents in this section go over steps to run different types of React Native release updates. Its intended audience is those in relevant release roles.",source:"@site/contributing/release-candidate-patch.md",sourceDirName:".",slug:"/release-candidate-patch",permalink:"/contributing/release-candidate-patch",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/react-native-website/blob/main/website/contributing/release-candidate-patch.md",tags:[],version:"current",lastUpdatedAt:1704504779,formattedLastUpdatedAt:"Jan 6, 2024",frontMatter:{id:"release-candidate-patch",title:"RC Patches"},sidebar:"contributing",previous:{title:"Branch Cut & RC0",permalink:"/contributing/release-branch-cut-and-rc0"},next:{title:"Minor Stable 0.Y.0",permalink:"/contributing/release-stable-minor"}},d={},u=[{value:"Pre-requisites",id:"pre-requisites",level:3},{value:"1. Check out the latest version from release branch",id:"1-check-out-the-latest-version-from-release-branch",level:3},{value:"2. Bump monorepo packages",id:"2-bump-monorepo-packages",level:3},{value:"3. Test the current changes",id:"3-test-the-current-changes",level:3},{value:"4. Run <code>trigger-react-native-release</code> script",id:"4-run-trigger-react-native-release-script",level:3},{value:"5. Watch CircleCI to ensure right jobs are being triggered",id:"5-watch-circleci-to-ensure-right-jobs-are-being-triggered",level:3},{value:"6. Create a GitHub Release",id:"6-create-a-github-release",level:3},{value:"7. Update the relevant discussion post with the latest RC",id:"7-update-the-relevant-discussion-post-with-the-latest-rc",level:3},{value:"8. Broadcast that release candidate is out",id:"8-broadcast-that-release-candidate-is-out",level:3}];function p(e){const t=Object.assign({admonition:"admonition",p:"p",a:"a",h3:"h3",ul:"ul",li:"li",pre:"pre",code:"code",strong:"strong"},(0,i.ah)(),e.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["Documents in this section go over steps to run different types of React Native release updates. Its intended audience is those in ",(0,s.jsx)(t.a,{href:"/contributing/release-roles-responsibilities",children:"relevant release roles"}),"."]})}),"\n",(0,s.jsx)(t.h3,{id:"pre-requisites",children:"Pre-requisites"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:['You have some pick requests that qualify for a new Release Candidate (RC) patch in the "road to 0.XX.0" ',(0,s.jsx)(t.a,{href:"https://github.com/reactwg/react-native-releases/discussions",children:"discussion"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Write access to ",(0,s.jsx)(t.a,{href:"https://github.com/facebook/react-native",children:"react-native"})," repository."]}),"\n",(0,s.jsxs)(t.li,{children:["Write access to ",(0,s.jsx)(t.a,{href:"https://github.com/reactwg/react-native-releases",children:"releases"})," repository."]}),"\n",(0,s.jsxs)(t.li,{children:["One CircleCI personal API token - see ",(0,s.jsx)(t.a,{href:"https://circleci.com/docs/2.0/managing-api-tokens/#creating-a-personal-api-token",children:"here"})," how to set one."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"1-check-out-the-latest-version-from-release-branch",children:"1. Check out the latest version from release branch"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Be on relevant release branch\n# update the stable branch with tags\ngit pull origin <release-branch> --tags\ngit checkout -b <release-branch>\n\n# cherry pick relevant commits\ngit cherry-pick <commit-hash>\n"})}),"\n",(0,s.jsx)(t.h3,{id:"2-bump-monorepo-packages",children:"2. Bump monorepo packages"}),"\n",(0,s.jsx)(t.p,{children:"Update all packages in the monorepo that were modified by the cherry picks. You can do it by running:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sh",children:"yarn bump-all-updated-packages # All the package bumps should be on the patch level\ngit push origin 0.XX-stable\n"})}),"\n",(0,s.jsx)(t.p,{children:"After pushing, the CI will take care to publish the new packages automatically."}),"\n",(0,s.jsx)(t.h3,{id:"3-test-the-current-changes",children:"3. Test the current changes"}),"\n",(0,s.jsxs)(t.p,{children:["Before continuing further, follow the ",(0,s.jsx)(t.a,{href:"/contributing/release-testing",children:"testing guide"})," to ensure the source code doesn't have any major issues."]}),"\n",(0,s.jsx)(r.ZP,{}),"\n",(0,s.jsxs)(t.h3,{id:"4-run-trigger-react-native-release-script",children:["4. Run ",(0,s.jsx)(t.code,{children:"trigger-react-native-release"})," script"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'# once verified all the cherry-picked commits, we can push them to remote\ngit push\n\n# run a script to bump the version\n# You **do not** want this release marked as "latest"!\nyarn trigger-react-native-release --to-version 0.y.0-rc.x --token <YOUR_CIRCLE_CI_TOKEN>\n'})}),"\n",(0,s.jsx)(c.ZP,{}),"\n",(0,s.jsx)(t.h3,{id:"5-watch-circleci-to-ensure-right-jobs-are-being-triggered",children:"5. Watch CircleCI to ensure right jobs are being triggered"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Once you have run the bump script script, head to CircleCI and you should see under the releases workflow, a ",(0,s.jsx)(t.code,{children:"prepare-package-for-release"})," job."]}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)("img",{width:"400",alt:"CircleCI showing publish release",src:"https://user-images.githubusercontent.com/1309636/150040711-cfbc2fe3-91eb-42b9-bd06-de2aa7fb94ea.png"}),(0,s.jsx)("figcaption",{children:"CircleCI showing publish release."})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Once complete you should be able to run ",(0,s.jsx)(t.code,{children:"npm view react-native"})," and verify that under the ",(0,s.jsx)(t.code,{children:"next"})," tag, the version is the expected release version."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"npm view react-native\n...\ndist-tags:\nlatest: 0.(y-1).1            next: 0.y.0-rc.x         nightly: 0.0.0-f617e022c\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"6-create-a-github-release",children:"6. Create a GitHub Release"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Create a ",(0,s.jsx)(t.a,{href:"https://github.com/facebook/react-native/releases",children:"GitHub Release"})," with this template and ",(0,s.jsx)(t.strong,{children:'check "Pre-Release" checkbox'}),"."]}),"\n"]}),"\n",(0,s.jsx)(a.ZP,{}),"\n",(0,s.jsx)(t.h3,{id:"7-update-the-relevant-discussion-post-with-the-latest-rc",children:"7. Update the relevant discussion post with the latest RC"}),"\n",(0,s.jsxs)(t.p,{children:['Go back to the "road to 0.XX.0" ',(0,s.jsx)(t.a,{href:"https://github.com/reactwg/react-native-releases/discussions",children:"discussion"}),' and update the "Current release candidate" line with the new version you published.']}),"\n",(0,s.jsx)(t.h3,{id:"8-broadcast-that-release-candidate-is-out",children:"8. Broadcast that release candidate is out"}),"\n",(0,s.jsx)(t.p,{children:"Once all the steps above have been completed, it's time to signal to the community that the new RC is available for testing! Do so in the following channels:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["RN Discord ",(0,s.jsx)(t.code,{children:"#releases-coordination"})]}),"\n"]})]})}const g=function(e={}){const{wrapper:t}=Object.assign({},(0,i.ah)(),e.components);return t?(0,s.jsx)(t,Object.assign({},e,{children:(0,s.jsx)(p,e)})):p(e)}},71426:(e,t,n)=>{var s=n(27378),i=Symbol.for("react.element"),r=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var s,r={},l=null,h=null;for(s in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(h=t.ref),t)a.call(t,s)&&!o.hasOwnProperty(s)&&(r[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===r[s]&&(r[s]=t[s]);return{$$typeof:i,type:e,key:l,ref:h,props:r,_owner:c.current}}t.Fragment=r,t.jsx=l,t.jsxs=l},24246:(e,t,n)=>{e.exports=n(71426)},71670:(e,t,n)=>{n.d(t,{Zo:()=>c,ah:()=>r});var s=n(27378);const i=s.createContext({});function r(e){const t=s.useContext(i);return s.useMemo((()=>"function"==typeof e?e(t):{...t,...e}),[t,e])}const a={};function c({components:e,children:t,disableParentContext:n}){let c;return c=n?"function"==typeof e?e({}):e||a:r(e),s.createElement(i.Provider,{value:c},t)}}}]);
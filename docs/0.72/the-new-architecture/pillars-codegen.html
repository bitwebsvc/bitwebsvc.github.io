<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-0.72 docs-doc-page docs-doc-id-the-new-architecture/pillars-codegen" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0-beta.0">
<title data-rh="true">Codegen · Bit</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:url" content="https://www.bitwebsvc.net/docs/0.72/the-new-architecture/pillars-codegen"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:image" content="https://reactnative.dev/img/logo-og.png"><meta data-rh="true" name="twitter:site" content="@reactnative"><meta data-rh="true" name="docusaurus_version" content="0.72"><meta data-rh="true" name="docusaurus_tag" content="docs-default-0.72"><meta data-rh="true" name="docsearch:version" content="0.72"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-0.72"><meta data-rh="true" property="og:title" content="Codegen · Bit"><meta data-rh="true" name="description" content="The Codegen is not a proper pillar, but it is a tool that can be used to avoid writing a lot of repetitive code. Using Codegen is not mandatory: all the code that is generated by it can also be written manually. However, it generates scaffolding code that could save you a lot of time."><meta data-rh="true" property="og:description" content="The Codegen is not a proper pillar, but it is a tool that can be used to avoid writing a lot of repetitive code. Using Codegen is not mandatory: all the code that is generated by it can also be written manually. However, it generates scaffolding code that could save you a lot of time."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.bitwebsvc.net/docs/0.72/the-new-architecture/pillars-codegen"><link data-rh="true" rel="alternate" href="https://www.bitwebsvc.net/docs/0.72/the-new-architecture/pillars-codegen" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.bitwebsvc.net/docs/0.72/the-new-architecture/pillars-codegen" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://8TDSE0OHGQ-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bit RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bit Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Bit JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","123123","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=123123"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","123123",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Bit" href="/opensearch.xml">




<link rel="icon" href="/img/pwa/manifest-icon-512.png">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#20232a">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#20232a">
<link rel="apple-touch-icon" href="/img/pwa/manifest-icon-512.png">
<link rel="mask-icon" href="/img/pwa/manifest-icon-512.png" color="#06bcee">
<meta name="msapplication-TileImage" href="/img/pwa/manifest-icon-512.png">
<meta name="msapplication-TileColor" content="#20232a">
<script src="https://cdn.jsdelivr.net/npm/focus-visible@5.2.0/dist/focus-visible.min.js" defer="defer"></script>
<script src="https://widget.surveymonkey.com/collect/website/js/tRaiETqnLgj758hTBazgd8ryO5qrZo8Exadq9qmt1wtm4_2FdZGEAKHDFEt_2BBlwwM4.js" defer="defer"></script>
<script src="https://snack.expo.dev/embed.js" defer="defer"></script><link rel="stylesheet" href="/assets/css/styles.b11bf298.css">
<script src="/assets/js/runtime~main.03360b86.js" defer="defer"></script>
<script src="/assets/js/main.65a514d2.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_oPtH" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Bit</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/0.72/getting-started">0.72</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/the-new-architecture/pillars-codegen">Next</a></li><li><a class="dropdown__link" href="/docs/the-new-architecture/pillars-codegen">0.73</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/0.72/the-new-architecture/pillars-codegen">0.72</a></li><li><a class="dropdown__link" href="/docs/0.71/the-new-architecture/pillars-codegen">0.71</a></li><li><a class="dropdown__link" href="/docs/0.70/the-new-architecture/pillars-codegen">0.70</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/products">Products</a><a class="navbar__item navbar__link" href="/company">Company</a><a class="navbar__item navbar__link" href="/partners">Partners</a><div class="toggle_ki11 colorModeToggle_Hewu"><button class="clean-btn toggleButton_MMFG toggleButtonDisabled_Uw7m darkNavbarColorModeToggle_m8pZ" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_lgto"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_U96C"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_WqAV"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_MB5r"><div class="docsWrapper__sE8"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iEvu" type="button"></button><div class="docRoot_DfVB"><aside class="theme-doc-sidebar-container docSidebarContainer_c7NB"><div class="sidebarViewport_KYo0"><div class="sidebar_CUen"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_jmj1"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/getting-started">The Basics</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/environment-setup">Environment setup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/running-on-device">Workflow</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/style">UI &amp; Interaction</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/debugging">Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/testing-overview">Testing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/performance">Performance</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/javascript-environment">JavaScript Runtime</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/native-modules-intro">Native Modules</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/native-components-android">Native Components</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/0.72/the-new-architecture/landing-page">The New Architecture</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/landing-page">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/why">Why a New Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/use-app-template">Creating a New Architecture App</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active" tabindex="0">Pillars</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/pillars">What Composes the New Architecture</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/pillars-turbomodules">Turbo Native Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/pillars-fabric-components">Fabric Native Components</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/0.72/the-new-architecture/pillars-codegen">Codegen</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">C++</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/cxx-cxxturbomodules">C++ Turbo Native Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/cxx-custom-types">Supporting Custom C++ Types</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link" tabindex="0">Backward Compatibility</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/backward-compatibility">What Backward Compatibility Is</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/backward-compatibility-turbomodules">Turbo Modules as Legacy Native Modules</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/0.72/the-new-architecture/backward-compatibility-fabric-components">Fabric Components as Legacy Native Components</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/new-architecture-intro">Migration to the New Architecture</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/0.72/headless-js-android">Android and iOS guides</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_a9sJ"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Qr34"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert">This is documentation for <!-- -->Bit<!-- --> <b>0.72</b>, which is no longer in active development.<div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/the-new-architecture/pillars-codegen">latest version</a></b> (<!-- -->0.73<!-- -->).</div></div><div class="docItemContainer_tjFy"><article><span class="theme-doc-version-badge badge badge--secondary">Version: 0.72</span><div class="tocCollapsible_wXna theme-doc-toc-mobile tocMobile_Ojys"><button type="button" class="clean-btn tocCollapsibleButton_iI2p">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Codegen</h1></header><div class="theme-admonition theme-admonition-caution admonition_WCGJ alert alert--warning"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_pbrs"><p>This documentation is still <strong>experimental</strong> and details are subject to changes as we iterate. Feel free to share your feedback on the <a href="https://github.com/reactwg/react-native-new-architecture/discussions/8" target="_blank" rel="noopener noreferrer">discussion inside the working group</a> for this page.</p><p>Moreover, it contains several <strong>manual steps</strong>. Please note that this won&#x27;t be representative of the final developer experience once the New Architecture is stable. We&#x27;re working on tools, templates and libraries to help you get started fast on the New Architecture, without having to go through the whole setup.</p></div></div>
<!-- -->
<!-- -->
<p>The <strong>Codegen</strong> is not a proper pillar, but it is a tool that can be used to avoid writing a lot of repetitive code. Using <strong>Codegen</strong> is not mandatory: all the code that is generated by it can also be written manually. However, it generates scaffolding code that could save you a lot of time.</p>
<p>The <strong>Codegen</strong> is invoked automatically by React Native every time an iOS or Android app is built. Occasionally, you would like to run the scripts that generate the code manually to know which types and files are actually generated: this is a common scenario when developing <a href="/docs/0.72/the-new-architecture/pillars-turbomodules"><strong>Turbo Native Modules</strong></a> and <a href="/docs/0.72/the-new-architecture/pillars-fabric-components"><strong>Fabric Native Components</strong></a>, for example.</p>
<p>This guide teaches how to configure the <strong>Codegen</strong>, and how to invoke it manually for each platform, and describes the generated code.</p>
<h1>Prerequisites</h1>
<p>You always need a React Native app to generate the code properly, even when invoking the <strong>Codegen</strong> manually.</p>
<p>The <strong>Codegen</strong> process is tightly coupled with the build of the app, and the scripts are located in the <code>react-native</code> NPM package.</p>
<p>For the sake of this guide, create a project using the React Native CLI as follows:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">npx react-native init SampleApp --version 0.70.0</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_WCGJ alert alert--secondary"><div class="admonitionHeading_GCBg"><span class="admonitionIcon_L39b"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_pbrs"><p>This guide assumes that the React Native version in use is 0.70.0 or greater.
Previous versions of React Native uses a version of <strong>Codegen</strong> that requires a slightly different setup.</p></div></div>
<p>Then, add the module that requires the <strong>Codegen</strong> as an NPM dependency of the app:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">yarn add &lt;path/to/your/TurboNativeModule_or_FabricNativeComponent&gt;</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See how to create a <a href="/docs/0.72/the-new-architecture/pillars-turbomodules">Turbo Native Module</a> or a <a href="/docs/0.72/the-new-architecture/pillars-fabric-components">Fabric Native Component</a> to get more information on how to configure them.</p>
<p>The rest of this guide assumes that you have a <code>Turbo Native Module</code> and/or a <code>Fabric Native Component</code> properly set up.</p>
<h1>iOS</h1>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="running-the-codegen">Running the Codegen<a href="#running-the-codegen" class="hash-link" aria-label="Direct link to Running the Codegen" title="Direct link to Running the Codegen">​</a></h2>
<p>The <strong>Codegen</strong> for iOS relies on some Node scripts that are invoked during the build process. The scripts are located in the <code>MyApp/node_modules/react-native/scripts/</code> folder.</p>
<p>The script that you have to run is the <code>generate-codegen-artifacts.js</code> script. This searches among all the dependencies of the app, looking for JS files that respects some specific conventions (look at <a href="/docs/0.72/the-new-architecture/pillars-turbomodules">TurboModules</a> and <a href="/docs/0.72/the-new-architecture/pillars-fabric-components">Fabric Components</a> sections for details), and it generates the required code.</p>
<p>To invoke the script, you can run this command from the root folder of your app:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">node node_modules/react-native/scripts/generate-codegen-artifacts.js \</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    --path SampleApp/ \</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    --outputPath &lt;an/output/path&gt; \</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Given that the app has <code>Turbo Native Modules</code> and/or <code>Fabric Native Components</code> configured as a dependency, <strong>Codegen</strong> looks for all of them and generates the code in the path you provided.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="the-generated-code">The Generated Code<a href="#the-generated-code" class="hash-link" aria-label="Direct link to The Generated Code" title="Direct link to The Generated Code">​</a></h2>
<p>If you run the <strong>Codegen</strong> in your app with an output path of <code>codegen</code>, for example, you obtain the following structure:</p>
<div class="language-title=&quot;iOS language-title=&quot;ios codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-title=&quot;ios codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">codegen</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">└── build</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">    └── generated</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">        └── ios</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            ├── MyTurboModuleSpecs</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            │   ├── MyTurboModuleSpecs-generated.mm</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            │   └── MyTurboModuleSpecs.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            ├── FBReactNativeSpec</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            │   ├── FBReactNativeSpec-generated.mm</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            │   └── FBReactNativeSpec.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            ├── RCTThirdPartyFabricComponentsProvider.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            ├── RCTThirdPartyFabricComponentsProvider.mm</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">            └── react</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                └── renderer</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                    └── components</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        ├── MyFabricComponent</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── ComponentDescriptors.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── EventEmitters.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├  ── EventEmitters.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── Props.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── Props.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── RCTComponentViewHelpers.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   ├── ShadowNodes.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        │   └── ShadowNodes.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                        └── rncore</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── ComponentDescriptors.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── EventEmitters.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── EventEmitters.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── Props.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── Props.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── RCTComponentViewHelpers.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            ├── ShadowNodes.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">                            └── ShadowNodes.h</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The <code>codegen</code> folder sits at the root of the hierarchy, as expected. Nested into it, there are two more folders: <code>build/generated</code>.</p>
<p>Then, there is an <code>ios</code> folder that contains:</p>
<ul>
<li>A custom folder for each TurboModule.</li>
<li>The header (<code>.h</code>) and implementation (<code>.mm</code>) files for the <code>RCTThirdPartyFabricComponentsProvider</code>.</li>
<li>A base <code>react/renderer/components</code> folder which contains a custom folder for each <code>Fabric Native Component</code>.</li>
</ul>
<p>In the example above, there are both a TurboModule and a set of Fabric Native Components. These are generated by React Native itself: <code>FBReactNativeSpec</code> and <code>rncore</code>. These modules will always appear even if you don&#x27;t have any extra TurboModule or Fabric Native Component: React Native requires them in order to work properly.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="turbo-native-modules">Turbo Native Modules<a href="#turbo-native-modules" class="hash-link" aria-label="Direct link to Turbo Native Modules" title="Direct link to Turbo Native Modules">​</a></h3>
<p>Each folder contains two files: an interface file and an implementation file.</p>
<p>The interface files have the same name as that of the Turbo Native Module and contain methods to initialize the JSI interface.</p>
<p>The implementation files, instead, have the <code>-generated</code> suffix and contain the logic to invoke the native methods from JS and vice-versa.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="fabric-native-components">Fabric Native Components<a href="#fabric-native-components" class="hash-link" aria-label="Direct link to Fabric Native Components" title="Direct link to Fabric Native Components">​</a></h3>
<p>The content of each Fabric Native Component folder contains several files. The basic element for a Fabric Native Component is the <code>ShadowNode</code>: it represents a node in the React abstract tree. The <code>ShadowNode</code> represents a React entity; therefore, it could need some props, which are defined in the <code>Props</code> files and, sometimes, an <code>EventEmitter</code>, defined in the corresponding file.</p>
<p>Additionally, the <strong>Codegen</strong> also creates a <code>ComponentDescriptor.h</code> and an <code>RCTComponentViewHelpers.h</code> files: the first one is used by React Native and Fabric to properly get a reference to the Fabric Native Component, while the latter contains some helper methods and protocols that can be implemented by the Native View to properly respond to JSI invocations.</p>
<p>For further details about how Fabric works, have a look at the <a href="/architecture/fabric-renderer">Renderer</a> section.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="rctthirdpartyfabriccomponentsprovider">RCTThirdPartyFabricComponentsProvider<a href="#rctthirdpartyfabriccomponentsprovider" class="hash-link" aria-label="Direct link to RCTThirdPartyFabricComponentsProvider" title="Direct link to RCTThirdPartyFabricComponentsProvider">​</a></h3>
<p>These are interface and implementation files for a registry. React Native uses this registry at runtime to retrieve the right class for a required Fabric Native Component. Once React Native has a handle to that class, it can instantiate it.</p>
<h1>Android</h1>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="running-the-codegen-1">Running the Codegen<a href="#running-the-codegen-1" class="hash-link" aria-label="Direct link to Running the Codegen" title="Direct link to Running the Codegen">​</a></h2>
<p>Android <code>Codegen</code> relies on a Gradle task to generate the required code. First, you need to configure the Android app to work with the New Architecture; otherwise, the Gradle task fails.</p>
<ol>
<li>Open the <code>MyApp/android/gradle.properties</code> file.</li>
<li>Flip the <code>newArchEnabled</code> flag from <code>false</code> to <code>true</code>.</li>
</ol>
<p>After that, you can navigate into the <code>SampleApp/android</code> folder and run:</p>
<div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">./gradlew generateCodegenArtifactsFromSchema</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These tasks invoke the <code>generateCodegenArtifactsFromSchema</code> on all the the imported projects of the app (the app and all the node modules which are linked to it). It generates the code in the corresponding <code>node_modules/&lt;dependency&gt;</code> folder. So, for example, if you have a Fabric Native Component whose node module is called <code>my-fabric-component</code>, the generated code is located in the <code>SampleApp/node_modules/my-fabric-component/android/build/generated/source/codegen</code> path.</p>
<h2 class="anchor anchorWithStickyNavbar_JmGV" id="the-generated-code-1">The Generated Code<a href="#the-generated-code-1" class="hash-link" aria-label="Direct link to The Generated Code" title="Direct link to The Generated Code">​</a></h2>
<p>Once the Gradle task completes, you can see different structures for a Turbo Native Module or for a Fabric Native Component. The following tab shows how they appear:</p>
<div class="tabs-container tabList_J5MA"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_l0OV tabs__item--active">turbomodules</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_l0OV">fabric-components</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_wHwb"><div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">codegen</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">├── java</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   └── com</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│       └── MyTurbomodule</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│           └── MyTurbomodule.java</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">├── jni</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── Android.mk</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── CMakeLists.txt</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── MyTurbomodule-generated.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── MyTurbomodule.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   └── react</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│       └── renderer</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│           └── components</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│               └── MyTurbomodule</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── ComponentDescriptors.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── EventEmitters.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── EventEmitters.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── Props.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── Props.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── ShadowNodes.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   └── ShadowNodes.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">└── schema.json</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_wHwb" hidden=""><div class="language-sh codeBlockContainer_mQmQ theme-code-block" style="--prism-color:#FFFFFF;--prism-background-color:#282C34"><div class="codeBlockContent_D5yF"><pre tabindex="0" class="prism-code language-sh codeBlock_RMoD thin-scrollbar"><code class="codeBlockLines_AclH"><span class="token-line" style="color:#FFFFFF"><span class="token plain">codegen</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">├── java</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   └── com</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│       └── facebook</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│           └── react</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│               └── viewmanagers</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── MyFabricComponentManagerDelegate.java</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   └── MyFabricComponentManagerInterface.java</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">├── jni</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── Android.mk</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── CMakeLists.txt</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── MyFabricComponent-generated.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   ├── MyFabricComponent.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│   └── react</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│       └── renderer</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│           └── components</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│               └── MyFabricComponent</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── ComponentDescriptors.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── EventEmitters.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── EventEmitters.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── Props.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── Props.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   ├── ShadowNodes.cpp</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">│                   └── ShadowNodes.h</span><br></span><span class="token-line" style="color:#FFFFFF"><span class="token plain">└── schema.json</span><br></span></code></pre><div class="buttonGroup_aaMX"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_z5j7" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_FoOz"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_L0B6"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Java can&#x27;t interoperate seamlessly with C++ as Objective-C++ does. To work properly, <strong>Codegen</strong> creates some bridging between the Java and the C++ world in the <code>jni</code> folder, where the Java Native Interfaces are defined.</p>
<p>Notice that both Turbo Native Modules and Fabric Native Components come with two build file descriptors: the <code>Android.mk</code> and the <code>CMakeLists.txt</code>. These are used by the Android app to actually build the external modules.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="turbo-native-module">Turbo Native Module<a href="#turbo-native-module" class="hash-link" aria-label="Direct link to Turbo Native Module" title="Direct link to Turbo Native Module">​</a></h3>
<p>The <strong>Codegen</strong> generates a Java abstract class in the <code>java</code> package with the same name as that of the TurboModule. This abstract class has to be implemented by the JNI C++ implementation.</p>
<p>Then, it generates the C++ files in the <code>jni</code> folder. They follow the same iOS convention: there is an interface called <code>MyTurbomodule.h</code> and an implementation file called <code>MyTurbomodule-generated.cpp</code>. The former is an interface that allows React Native to initialize the JSI interface for the TurboModule. The latter is the implementation file which contains the logic to invoke the native method from JS and vice-versa.</p>
<h3 class="anchor anchorWithStickyNavbar_JmGV" id="fabric-native-component">Fabric Native Component<a href="#fabric-native-component" class="hash-link" aria-label="Direct link to Fabric Native Component" title="Direct link to Fabric Native Component">​</a></h3>
<p>The <strong>Codegen</strong> for a Fabric Native Component contains a <code>MyFabricComponentManagerInterface.java</code> and a <code>MyFabricComponentManagerDelegate.java</code> in the <code>java</code> package. They are implemented and used by the native <code>MyFabricComponentManager</code> required to properly load the component at runtime (See the guide on how to create a <a href="/docs/0.72/the-new-architecture/pillars-fabric-components">Fabric Native Component</a> for details).</p>
<p>Then, there is a layer of JNI C++ files that are used by Fabric to render the components. The basic element for a Fabric Component is the <code>ShadowNode</code>: it represents a node in the React abstract tree. The <code>ShadowNode</code> represents a React entity; therefore it could need some props, which are defined in the <code>Props</code> files and, sometimes, an <code>EventEmitter</code>, defined in the corresponding file.</p>
<p>The <strong>Codegen</strong> also creates a <code>ComponentDescriptor.h</code>, which is required to get a proper handle on the Fabric Native Component.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebook/react-native-website/blob/main/website/../docs/the-new-architecture/pillars-codegen.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_bHB7" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2024-01-06T01:32:59.000Z">Jan 6, 2024</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/0.72/the-new-architecture/pillars-fabric-components"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fabric Native Components</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/0.72/the-new-architecture/cxx-cxxturbomodules"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">C++ Turbo Native Modules</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_XG6w thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#running-the-codegen" class="table-of-contents__link toc-highlight">Running the Codegen</a></li><li><a href="#the-generated-code" class="table-of-contents__link toc-highlight">The Generated Code</a><ul><li><a href="#turbo-native-modules" class="table-of-contents__link toc-highlight">Turbo Native Modules</a></li><li><a href="#fabric-native-components" class="table-of-contents__link toc-highlight">Fabric Native Components</a></li><li><a href="#rctthirdpartyfabriccomponentsprovider" class="table-of-contents__link toc-highlight">RCTThirdPartyFabricComponentsProvider</a></li></ul></li><li><a href="#running-the-codegen-1" class="table-of-contents__link toc-highlight">Running the Codegen</a></li><li><a href="#the-generated-code-1" class="table-of-contents__link toc-highlight">The Generated Code</a><ul><li><a href="#turbo-native-module" class="table-of-contents__link toc-highlight">Turbo Native Module</a></li><li><a href="#fabric-native-component" class="table-of-contents__link toc-highlight">Fabric Native Component</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/flower">Flower</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/company">About</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Bit Systems, Inc.</div></div></div></footer></div>
</body>
</html>